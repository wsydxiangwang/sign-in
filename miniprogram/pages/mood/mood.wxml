<!--miniprogram/pages/mood/mood.wxml-->
<view class="container">

  <navigator url="/pages/publish/publish">发布心情</navigator>

  <view class="mood-content">
    <block wx:if="{{commentList.length}}">
      <view class="mood-item" wx:for="{{commentList}}" data-index="{{index}}" wx:item="item" wx:key>

        <view class="mood-head">
          <view class="avatar">
            <image src="{{item.avatarUrl}}" mode="widthFix"></image>
          </view>
          <view class="title">
            <text class="name">{{item.userName}}</text>
            <text class="time">{{item.time}}</text>
          </view>
        </view>

        <view class="content">
          <text>{{item.content}}</text>
          <view class="image-list {{item.image.length >= 3 ? 'three' : ''}}" data-index="{{index}}" bindtap="imageSwiper">
            <view class="image-item" wx:for="{{item.image}}" wx:key>
              <image src="{{item}}" mode="aspectFill"></image>
            </view>
          </view>
        </view>

        <view class="mood-foot">
          <text class="like">{{item.like}}</text>
          <text class="comment-num">{{item.commentNum}}</text>
          <text class="comment-num">{{item.commentNum}}</text>
        </view>

      </view>
    </block>
  </view>

  <!-- 图片轮播查看 -->
   <view class="swiper" wx:if="{{swiperList.length}}" bindtap="swiperClose">
    <swiper bindchange="swiperChange" class="swiper-box" current="{{swiperCurrent}}">
      <block wx:for="{{swiperList}}" data-index="{{index}}" wx:key="unique">
        <swiper-item class="swiper-item">
          <image src="{{item}}" mode="widthFix"></image>
        </swiper-item>
      </block>
    </swiper>
    <view class="dots">
      <block wx:for="{{swiperList}}" data-index="{{index}}" wx:key="unique">
        <view class="dot{{index == swiperCurrent ? ' active' : ''}}"></view>
      </block>
    </view>
  </view>
  

</view>